"use strict";(self.webpackChunkadobe_developer_app_builder=self.webpackChunkadobe_developer_app_builder||[]).push([[6112],{6046:function(e,a,t){t.r(a),t.d(a,{_frontmatter:function(){return o},default:function(){return m}});var n=t(58168),l=t(80045),r=(t(88763),t(15680)),i=t(83407);const d=["components"],o={},s={_frontmatter:o},p=i.A;function m(e){let{components:a}=e,t=(0,l.A)(e,d);return(0,r.mdx)(p,(0,n.A)({},s,t,{components:a,mdxType:"MDXLayout"}),(0,r.mdx)("h1",{id:"setting-response-headers"},"Setting Response Headers"),(0,r.mdx)("p",null,"For developers building applications with UI, the static assets (HTML, Javascript, css, images, etc) are served by our CDN via the ",(0,r.mdx)("inlineCode",{parentName:"p"},"adobeio-static.net")," domain."),(0,r.mdx)("p",null,"Adobe Developer App Builder supports setting response headers for this static content (since aio-cli version 9.3.0)."),(0,r.mdx)("p",null,"This feature is applicable to any App Builder applications with UI, and is helpful for several use cases, including:"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"Setting ",(0,r.mdx)("inlineCode",{parentName:"li"},"CORS")," Headers to enforce access policies"),(0,r.mdx)("li",{parentName:"ul"},"Enabling ",(0,r.mdx)("inlineCode",{parentName:"li"},"Content Security Policy")," for your assets"),(0,r.mdx)("li",{parentName:"ul"},"Add any ",(0,r.mdx)("inlineCode",{parentName:"li"},"custom headers")," required by the App UI")),(0,r.mdx)("h2",{id:"rules"},"Rules"),(0,r.mdx)("p",null,"App Builder developers can now set the intended response headers in the app manifest file (either ",(0,r.mdx)("inlineCode",{parentName:"p"},"ext.config.yaml")," or ",(0,r.mdx)("inlineCode",{parentName:"p"},"app.config.yaml"),") during app development."),(0,r.mdx)("p",null,"The manifest allows these headers to be set as rules which can select or reject various type of static assets/paths or all static assets within the app."),(0,r.mdx)("p",null,"These rules are as follows:"),(0,r.mdx)("table",null,(0,r.mdx)("thead",{parentName:"table"},(0,r.mdx)("tr",{parentName:"thead"},(0,r.mdx)("th",{parentName:"tr",align:null},"Rule"),(0,r.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,r.mdx)("tbody",{parentName:"table"},(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"/*"),(0,r.mdx)("td",{parentName:"tr",align:null},"Include all static content")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"/","<","folder name",">","/*"),(0,r.mdx)("td",{parentName:"tr",align:null},"Include all files within a given folder")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"*",".html or ","*",".js etc."),(0,r.mdx)("td",{parentName:"tr",align:null},"Include files based on a file extension")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},"/file or /","<","folder name",">","/file"),(0,r.mdx)("td",{parentName:"tr",align:null},"Include a specific file")))),(0,r.mdx)("p",null,"These rules are applied in the order in which they are specified in the manifest. For example, rules placed after a given rule can override the previous rule if both match the same file."),(0,r.mdx)("h2",{id:"example-usage"},"Example Usage"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-yaml"},"application:\n  actions: actions\n  web:\n    src: web-src\n    response-headers:\n      /*: # add headers to all content\n        X-custom-header: generic header\n      /secure-dir/*: # specific folder\n        Content-security-policy: default-src 'self'\n      /widgets/*.html: # add headers to all html content\n        X-custom-header: widget specific header\n        Content-security-policy: default-src 'self'\n      /lib/sample.js: # add headers to specific ile\n        Content-security-policy: default-src 'self' example.com *.example.com\n")),(0,r.mdx)("p",null,"Once headers are added, they can be easily deployed with the app using the ",(0,r.mdx)("inlineCode",{parentName:"p"},"aio app:deploy")," command.\nNote: the paths specified in rules are relative to the dist folder (created post app build) and not to the app root."),(0,r.mdx)("h2",{id:"allowed-headers"},"Allowed Headers"),(0,r.mdx)("p",null,"This feature allows developers to set any HTTP or custom response headers, ",(0,r.mdx)("strong",{parentName:"p"},"except")," those in the list below."),(0,r.mdx)("p",null,"If these headers are specified in the manifest, they are ",(0,r.mdx)("strong",{parentName:"p"},"ignored")," and are not included in the response."),(0,r.mdx)("p",null,"These particular headers are ignored because they are either meant for internal usage or are CDN-specific headers which should not be overridden."),(0,r.mdx)("ol",null,(0,r.mdx)("li",{parentName:"ol"},"accept-ranges"),(0,r.mdx)("li",{parentName:"ol"},"age"),(0,r.mdx)("li",{parentName:"ol"},"allow"),(0,r.mdx)("li",{parentName:"ol"},"alt-svc"),(0,r.mdx)("li",{parentName:"ol"},"cache-control"),(0,r.mdx)("li",{parentName:"ol"},"connection"),(0,r.mdx)("li",{parentName:"ol"},"content-length"),(0,r.mdx)("li",{parentName:"ol"},"content-type"),(0,r.mdx)("li",{parentName:"ol"},"content-disposition"),(0,r.mdx)("li",{parentName:"ol"},"content-encoding"),(0,r.mdx)("li",{parentName:"ol"},"content-language"),(0,r.mdx)("li",{parentName:"ol"},"content-length"),(0,r.mdx)("li",{parentName:"ol"},"date"),(0,r.mdx)("li",{parentName:"ol"},"etag"),(0,r.mdx)("li",{parentName:"ol"},"expires"),(0,r.mdx)("li",{parentName:"ol"},"last-modified"),(0,r.mdx)("li",{parentName:"ol"},"location"),(0,r.mdx)("li",{parentName:"ol"},"server"),(0,r.mdx)("li",{parentName:"ol"},"trailer"),(0,r.mdx)("li",{parentName:"ol"},"transfer-encoding"),(0,r.mdx)("li",{parentName:"ol"},"upgrade"),(0,r.mdx)("li",{parentName:"ol"},"x-cache")))}m.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-guides-deployment-setting-response-headers-md-991da7b81ceaf46090c2.js.map