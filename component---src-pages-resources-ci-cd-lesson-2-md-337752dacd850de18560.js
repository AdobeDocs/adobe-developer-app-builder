(self.webpackChunkproject_firefly=self.webpackChunkproject_firefly||[]).push([[1507],{38147:function(e,t,a){"use strict";a.r(t),a.d(t,{_frontmatter:function(){return n},default:function(){return l}});var i=a(22122),c=a(19756),p=(a(15007),a(64983)),s=a(99536),o=["components"],n={},r={_frontmatter:n},d=s.Z;function l(e){var t=e.components,a=(0,c.Z)(e,o);return(0,p.mdx)(d,(0,i.Z)({},r,a,{components:t,mdxType:"MDXLayout"}),(0,p.mdx)("h1",{id:"lesson-2-monitoring-cicd"},"Lesson 2: Monitoring CI/CD"),(0,p.mdx)("p",null,"Once your GitHub actions and secrets are defined in the repository, you can monitor the workflow directly in GitHub on ",(0,p.mdx)("inlineCode",{parentName:"p"},"https://github.com/<org>/<project_name>/actions"),"."),(0,p.mdx)("h2",{id:"re-run-failing-jobs"},"Re-run failing jobs"),(0,p.mdx)("p",null,"In the previous lesson, the job failed because the GitHub secrets were missing. Go to the failed job named ",(0,p.mdx)("inlineCode",{parentName:"p"},"AIO App CI / Deploy to Stage")," and click on the ",(0,p.mdx)("inlineCode",{parentName:"p"},"Build")," step to open the logs:"),(0,p.mdx)("p",null,(0,p.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1280px"}},"\n      ",(0,p.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"40.625%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,p.mdx)("picture",{parentName:"span"},"\n          ",(0,p.mdx)("source",{parentName:"picture",srcSet:["/project-firefly/static/ce3a7d2e12bd85955b2430691d18c555/cb523/logs.webp 320w","/project-firefly/static/ce3a7d2e12bd85955b2430691d18c555/797b9/logs.webp 640w","/project-firefly/static/ce3a7d2e12bd85955b2430691d18c555/4b075/logs.webp 1280w","/project-firefly/static/ce3a7d2e12bd85955b2430691d18c555/f3ff0/logs.webp 1920w","/project-firefly/static/ce3a7d2e12bd85955b2430691d18c555/a662b/logs.webp 2560w","/project-firefly/static/ce3a7d2e12bd85955b2430691d18c555/810da/logs.webp 2880w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/webp"}),"\n          ",(0,p.mdx)("source",{parentName:"picture",srcSet:["/project-firefly/static/ce3a7d2e12bd85955b2430691d18c555/72799/logs.png 320w","/project-firefly/static/ce3a7d2e12bd85955b2430691d18c555/6af66/logs.png 640w","/project-firefly/static/ce3a7d2e12bd85955b2430691d18c555/21b4d/logs.png 1280w","/project-firefly/static/ce3a7d2e12bd85955b2430691d18c555/29114/logs.png 1920w","/project-firefly/static/ce3a7d2e12bd85955b2430691d18c555/c2d13/logs.png 2560w","/project-firefly/static/ce3a7d2e12bd85955b2430691d18c555/d9ed5/logs.png 2880w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/png"}),"\n          ",(0,p.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/project-firefly/static/ce3a7d2e12bd85955b2430691d18c555/21b4d/logs.png",alt:"logs",title:"logs",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,p.mdx)("p",null,(0,p.mdx)("inlineCode",{parentName:"p"},"AIO_RUNTIME_NAMESPACE must be passed to the action")," is the thrown error message."),(0,p.mdx)("p",null,"Now that the secrets are defined, you can try to rerun the job by clicking on Re-run all jobs to start the workflow. The job should complete and all steps should pass: "),(0,p.mdx)("p",null,(0,p.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1280px"}},"\n      ",(0,p.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"27.500000000000004%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,p.mdx)("picture",{parentName:"span"},"\n          ",(0,p.mdx)("source",{parentName:"picture",srcSet:["/project-firefly/static/f238c1f9103d97b1c3b53213301fab71/cb523/success.webp 320w","/project-firefly/static/f238c1f9103d97b1c3b53213301fab71/797b9/success.webp 640w","/project-firefly/static/f238c1f9103d97b1c3b53213301fab71/4b075/success.webp 1280w","/project-firefly/static/f238c1f9103d97b1c3b53213301fab71/f3ff0/success.webp 1920w","/project-firefly/static/f238c1f9103d97b1c3b53213301fab71/a662b/success.webp 2560w","/project-firefly/static/f238c1f9103d97b1c3b53213301fab71/98311/success.webp 2876w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/webp"}),"\n          ",(0,p.mdx)("source",{parentName:"picture",srcSet:["/project-firefly/static/f238c1f9103d97b1c3b53213301fab71/72799/success.png 320w","/project-firefly/static/f238c1f9103d97b1c3b53213301fab71/6af66/success.png 640w","/project-firefly/static/f238c1f9103d97b1c3b53213301fab71/21b4d/success.png 1280w","/project-firefly/static/f238c1f9103d97b1c3b53213301fab71/29114/success.png 1920w","/project-firefly/static/f238c1f9103d97b1c3b53213301fab71/c2d13/success.png 2560w","/project-firefly/static/f238c1f9103d97b1c3b53213301fab71/39148/success.png 2876w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/png"}),"\n          ",(0,p.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/project-firefly/static/f238c1f9103d97b1c3b53213301fab71/21b4d/success.png",alt:"success",title:"success",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,p.mdx)("p",null,"If you click on the Deploy step to open the logs, you'll see that your App Builder App was deployed successfully on your stage environment:"),(0,p.mdx)("p",null,(0,p.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1280px"}},"\n      ",(0,p.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"18.75%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,p.mdx)("picture",{parentName:"span"},"\n          ",(0,p.mdx)("source",{parentName:"picture",srcSet:["/project-firefly/static/77bd489c308052fe478b6d5bddad583f/cb523/deploy.webp 320w","/project-firefly/static/77bd489c308052fe478b6d5bddad583f/797b9/deploy.webp 640w","/project-firefly/static/77bd489c308052fe478b6d5bddad583f/4b075/deploy.webp 1280w","/project-firefly/static/77bd489c308052fe478b6d5bddad583f/4f0f6/deploy.webp 1828w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/webp"}),"\n          ",(0,p.mdx)("source",{parentName:"picture",srcSet:["/project-firefly/static/77bd489c308052fe478b6d5bddad583f/72799/deploy.png 320w","/project-firefly/static/77bd489c308052fe478b6d5bddad583f/6af66/deploy.png 640w","/project-firefly/static/77bd489c308052fe478b6d5bddad583f/21b4d/deploy.png 1280w","/project-firefly/static/77bd489c308052fe478b6d5bddad583f/a8979/deploy.png 1828w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/png"}),"\n          ",(0,p.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/project-firefly/static/77bd489c308052fe478b6d5bddad583f/21b4d/deploy.png",alt:"deploy",title:"deploy",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,p.mdx)("h2",{id:"run-tests-on-pull-request"},"Run tests on pull request"),(0,p.mdx)("p",null,"The GitHub action defined in ",(0,p.mdx)("inlineCode",{parentName:"p"},"pr_test.yml")," will run ",(0,p.mdx)("inlineCode",{parentName:"p"},"aio app test")," anytime a pull request is submitted to your project.\nBy default, it will only run the tests for the Runtime actions. If all the checks are passing and the pull request is merged, the above workflow will run and deploy the App Builder App on the stage environment. "),(0,p.mdx)("p",null,(0,p.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1280px"}},"\n      ",(0,p.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"47.1875%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,p.mdx)("picture",{parentName:"span"},"\n          ",(0,p.mdx)("source",{parentName:"picture",srcSet:["/project-firefly/static/3478ec959e0f5144b3eb0c4272ca59ed/cb523/tests.webp 320w","/project-firefly/static/3478ec959e0f5144b3eb0c4272ca59ed/797b9/tests.webp 640w","/project-firefly/static/3478ec959e0f5144b3eb0c4272ca59ed/4b075/tests.webp 1280w","/project-firefly/static/3478ec959e0f5144b3eb0c4272ca59ed/39675/tests.webp 1520w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/webp"}),"\n          ",(0,p.mdx)("source",{parentName:"picture",srcSet:["/project-firefly/static/3478ec959e0f5144b3eb0c4272ca59ed/72799/tests.png 320w","/project-firefly/static/3478ec959e0f5144b3eb0c4272ca59ed/6af66/tests.png 640w","/project-firefly/static/3478ec959e0f5144b3eb0c4272ca59ed/21b4d/tests.png 1280w","/project-firefly/static/3478ec959e0f5144b3eb0c4272ca59ed/891d5/tests.png 1520w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/png"}),"\n          ",(0,p.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/project-firefly/static/3478ec959e0f5144b3eb0c4272ca59ed/21b4d/tests.png",alt:"tests",title:"tests",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,p.mdx)("h2",{id:"continuous-deployment"},"Continuous deployment"),(0,p.mdx)("p",null,"To deploy your App Builder App on the production environment, you'll have to perform a GitHub release in your project repository since the GitHub action relies on the ",(0,p.mdx)("inlineCode",{parentName:"p"},"release")," event."),(0,p.mdx)("p",null,"For convenience, we'll go to ",(0,p.mdx)("inlineCode",{parentName:"p"},"https://github.com/<org>/<project_name>/releases/new")," to perform a release. Fill out the release version and optionally, you can add a release title and description then hit Publish release. "),(0,p.mdx)("p",null,(0,p.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1280px"}},"\n      ",(0,p.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"44.0625%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,p.mdx)("picture",{parentName:"span"},"\n          ",(0,p.mdx)("source",{parentName:"picture",srcSet:["/project-firefly/static/d27e2cffa6b62d54e4eb46fee7c4697e/cb523/release.webp 320w","/project-firefly/static/d27e2cffa6b62d54e4eb46fee7c4697e/797b9/release.webp 640w","/project-firefly/static/d27e2cffa6b62d54e4eb46fee7c4697e/4b075/release.webp 1280w","/project-firefly/static/d27e2cffa6b62d54e4eb46fee7c4697e/f3ff0/release.webp 1920w","/project-firefly/static/d27e2cffa6b62d54e4eb46fee7c4697e/d4800/release.webp 2024w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/webp"}),"\n          ",(0,p.mdx)("source",{parentName:"picture",srcSet:["/project-firefly/static/d27e2cffa6b62d54e4eb46fee7c4697e/72799/release.png 320w","/project-firefly/static/d27e2cffa6b62d54e4eb46fee7c4697e/6af66/release.png 640w","/project-firefly/static/d27e2cffa6b62d54e4eb46fee7c4697e/21b4d/release.png 1280w","/project-firefly/static/d27e2cffa6b62d54e4eb46fee7c4697e/29114/release.png 1920w","/project-firefly/static/d27e2cffa6b62d54e4eb46fee7c4697e/a4f52/release.png 2024w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/png"}),"\n          ",(0,p.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/project-firefly/static/d27e2cffa6b62d54e4eb46fee7c4697e/21b4d/release.png",alt:"release",title:"release",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    "),"     "),(0,p.mdx)("p",null,"Finally, the deploy GitHub action will run and deploy the App Builder App on the production environment using the production GitHub secrets."),(0,p.mdx)("p",null,(0,p.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"1280px"}},"\n      ",(0,p.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"64.0625%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,p.mdx)("picture",{parentName:"span"},"\n          ",(0,p.mdx)("source",{parentName:"picture",srcSet:["/project-firefly/static/c42c75cbe67b60bdbfd8acc1e7241b17/cb523/production.webp 320w","/project-firefly/static/c42c75cbe67b60bdbfd8acc1e7241b17/797b9/production.webp 640w","/project-firefly/static/c42c75cbe67b60bdbfd8acc1e7241b17/4b075/production.webp 1280w","/project-firefly/static/c42c75cbe67b60bdbfd8acc1e7241b17/f3ff0/production.webp 1920w","/project-firefly/static/c42c75cbe67b60bdbfd8acc1e7241b17/bb786/production.webp 2064w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/webp"}),"\n          ",(0,p.mdx)("source",{parentName:"picture",srcSet:["/project-firefly/static/c42c75cbe67b60bdbfd8acc1e7241b17/72799/production.png 320w","/project-firefly/static/c42c75cbe67b60bdbfd8acc1e7241b17/6af66/production.png 640w","/project-firefly/static/c42c75cbe67b60bdbfd8acc1e7241b17/21b4d/production.png 1280w","/project-firefly/static/c42c75cbe67b60bdbfd8acc1e7241b17/29114/production.png 1920w","/project-firefly/static/c42c75cbe67b60bdbfd8acc1e7241b17/497e9/production.png 2064w"],sizes:"(max-width: 1280px) 100vw, 1280px",type:"image/png"}),"\n          ",(0,p.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/project-firefly/static/c42c75cbe67b60bdbfd8acc1e7241b17/21b4d/production.png",alt:"production",title:"production",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,p.mdx)("h2",{id:"debugging-jobs"},"Debugging jobs"),(0,p.mdx)("p",null,"GitHub Actions provide cloud based CI/CD features and therefore you can't debug jobs locally.\nFortunately, GitHub provides tools to help you debug failing jobs."),(0,p.mdx)("p",null,"Please find more information on how to view run logs, enable verbose logs and more on the ",(0,p.mdx)("a",{parentName:"p",href:"https://docs.github.com/en/free-pro-team@latest/actions/managing-workflow-runs"},"GitHub documentation"),".   "))}l.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-resources-ci-cd-lesson-2-md-337752dacd850de18560.js.map