{"version":3,"sources":["webpack://project-firefly/./src/pages/guides/application_logging/splunk_enterprise.md"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"component---src-pages-guides-application-logging-splunk-enterprise-md-0d7274b3508fc9c68fba.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/project-firefly/project-firefly/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"forwarding-logs-to-splunk-enterprise\"\n    }}>{`Forwarding logs to Splunk Enterprise`}</h1>\n    <p>{`This guide would cover configuring your app builder application to forward application logs to your Splunk Enterprise deployment.`}</p>\n    <h2 {...{\n      \"id\": \"prerequisites\"\n    }}>{`Prerequisites`}</h2>\n    <ol>\n      <li parentName=\"ol\">{`An index on your Splunk Enterprise instance. To create a new index, you can follow Splunk's guide `}<a parentName=\"li\" {...{\n          \"href\": \"https://docs.splunk.com/Documentation/Splunk/8.2.4/Indexer/Setupmultipleindexes\"\n        }}>{`here`}</a>{`.`}</li>\n      <li parentName=\"ol\">{`Local development setup for your App Builder application.`}</li>\n      <li parentName=\"ol\">{`The latest version of AIO CLI. Check your version by running `}<inlineCode parentName=\"li\">{`aio --version`}</inlineCode>{`. To update run `}<inlineCode parentName=\"li\">{`npm install -g @adobe/aio-cli`}</inlineCode>{`.`}</li>\n    </ol>\n    <h2 {...{\n      \"id\": \"steps-to-configure-log-forwarding\"\n    }}>{`Steps to configure Log Forwarding`}</h2>\n    <h3 {...{\n      \"id\": \"1-set-up-splunk-http-event-collector\"\n    }}>{`1. Set up Splunk HTTP Event Collector`}</h3>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Go to your Splunk home and select `}<em parentName=\"p\">{`Settings`}</em>{` from the ribbon on top. On the `}<em parentName=\"p\">{`Settings`}</em>{` pane, select `}<em parentName=\"p\">{`Data Inputs`}</em>{`.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Click on the `}<strong parentName=\"p\"><em parentName=\"strong\">{`+ Add New`}</em></strong>{` button corresponding to the HTTP Event Collector input type.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`On the `}<em parentName=\"p\">{`Select Source`}</em>{` screen:`}</p>\n        <ol parentName=\"li\">\n          <li parentName=\"ol\">{`Type in an input name. For example: `}<inlineCode parentName=\"li\">{`My App Builder Application`}</inlineCode>{` `}</li>\n          <li parentName=\"ol\">{`Ensure that the `}<em parentName=\"li\">{`Enable Indexer Acknowledgment`}</em>{` checkbox is `}<strong parentName=\"li\">{`not`}</strong>{` ticked.`}</li>\n          <li parentName=\"ol\">{`Click the `}<em parentName=\"li\">{`Next`}</em>{` button on top.`}</li>\n        </ol>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`On the `}<em parentName=\"p\">{`Input Settings`}</em>{` screen:`}</p>\n        <ol parentName=\"li\">\n          <li parentName=\"ol\">{`Set the source type to `}<inlineCode parentName=\"li\">{`automatic`}</inlineCode>{`. The forwarded logs would be sent with the `}<inlineCode parentName=\"li\">{`sourcetype`}</inlineCode>{` field set to `}<inlineCode parentName=\"li\">{`_json`}</inlineCode>{`.`}</li>\n          <li parentName=\"ol\">{`From the list of indexes, only select the index on which you wish to receive logs from your App Builder application. `}</li>\n          <li parentName=\"ol\">{`Click the `}<em parentName=\"li\">{`Review`}</em>{` button on top.`}</li>\n        </ol>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`On the `}<em parentName=\"p\">{`Done`}</em>{` screen:`}</p>\n        <ol parentName=\"li\">\n          <li parentName=\"ol\">{`Copy the value of the token value to be used later.`}</li>\n        </ol>\n      </li>\n    </ol>\n    <h3 {...{\n      \"id\": \"2-getting-splunk-host-and-port\"\n    }}>{`2. Getting Splunk Host and Port`}</h3>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`To find out your `}<inlineCode parentName=\"p\">{`hostname`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`port`}</inlineCode>{` number, read the `}<strong parentName=\"p\"><em parentName=\"strong\">{`Send data to HTTP Event Collector on Splunk Enterprise`}</em></strong>{` section on Splunk's documentation `}<a parentName=\"p\" {...{\n            \"href\": \"https://docs.splunk.com/Documentation/Splunk/8.2.4/Data/UsetheHTTPEventCollector#Send_data_to_HTTP_Event_Collector_on_Splunk_Enterprise\"\n          }}>{`here`}</a>{`. `}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Confirm whether you have got the correct `}<inlineCode parentName=\"p\">{`hostname`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`port`}</inlineCode>{` number by executing the following cURL request. If you get a `}<inlineCode parentName=\"p\">{`200 OK`}</inlineCode>{` response, you are good to proceed.`}</p>\n      </li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{}}>{`curl -X POST 'https://<hostname>:<port>/services/collector' \\\\     \n-H \"Authorization: Splunk <token>\" \\\\\n-d '{\"event\": \"hello world\"}'\n`}</code></pre>\n    <p><em parentName=\"p\">{`Note: The `}<inlineCode parentName=\"em\">{`token`}</inlineCode>{` value is from step 1.5.1`}</em></p>\n    <h3 {...{\n      \"id\": \"3-set-up-log-forwarding-in-app-builder\"\n    }}>{`3. Set up Log Forwarding in App Builder`}</h3>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Open terminal and navigate to the App Builder project directory on your machine.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Run the following command and supply the values from previous steps`}</p>\n      </li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{}}>{`aio app config set log-forwarding\n? select log forwarding destination: Splunk HEC\n? host: <hostname>\n? port: <port_number>\n? index: <index>\n? hec_token: <token>\n`}</code></pre>\n    <p>{`Note:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Make sure to not prefix the protocol (`}<inlineCode parentName=\"li\">{`http://`}</inlineCode>{` or `}<inlineCode parentName=\"li\">{`https://`}</inlineCode>{`) before the hostname.`}</li>\n      <li parentName=\"ul\">{`Replace the value of `}<inlineCode parentName=\"li\">{`hostname`}</inlineCode>{` and `}<inlineCode parentName=\"li\">{`port`}</inlineCode>{` as ascertained in step 2.2.1. `}</li>\n      <li parentName=\"ul\">{`Replace the value of `}<inlineCode parentName=\"li\">{`token`}</inlineCode>{`  from step 1.5.1.`}</li>\n    </ul>\n    <ol {...{\n      \"start\": 3\n    }}>\n      <li parentName=\"ol\">{`Verify that the config change has taken effect `}</li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{}}>{`aio app config get log-forwarding\n`}</code></pre>\n    <ol {...{\n      \"start\": 4\n    }}>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Execute an action in your runtime namespace to generate logs.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Go to Splunk Home > Search and run the query `}</p>\n      </li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{}}>{`index=<index>\n`}</code></pre>\n    <ol {...{\n      \"start\": 6\n    }}>\n      <li parentName=\"ol\">{`If you don't see any logs in Splunk, please check the log forwarding errors.`}</li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{}}>{`aio app config get log-forwarding errors\n`}</code></pre>\n    <p><em parentName=\"p\">{`Note: Please post on our `}<a parentName=\"em\" {...{\n          \"href\": \"https://experienceleaguecommunities.adobe.com/t5/project-firefly/ct-p/project-firefly\"\n        }}>{`App Builder forums`}</a>{` to get support if you are unable to setup log forwarding correctly.`}</em></p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}